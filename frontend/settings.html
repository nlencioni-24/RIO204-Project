<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Settings</title>
  <link rel="stylesheet" href="src/settings.css">

</head>
<body>

<header>
  <div class="back-btn" onclick="goHome()">⬅</div>
  <h1>Settings</h1>
</header>

<div class="content">
  <div class="card">
    <h2>Reset Score & Badges</h2>
    <p>Click the button below to reset your points and badges. This cannot be undone.</p>
    <button class="left-room" onclick="openResetModal()">Reset Score</button>
  </div>
</div>

<!-- Modal overlay -->
<div id="resetModal">
  <div class="modal-content">
    <h3>⚠️ Are you sure?</h3>
    <p>This will reset your score and all badges.</p>
    <button class="confirm" onclick="confirmReset()">Yes, Reset</button>
    <button class="cancel" onclick="closeResetModal()">Cancel</button>
  </div>
</div>

<script>
function goHome() {
  window.location.href = "index.html";
}

// Ouvre la modal
function openResetModal() {
  document.getElementById("resetModal").style.display = "flex";
}

// Ferme la modal
function closeResetModal() {
  document.getElementById("resetModal").style.display = "none";
}

// Confirme le reset
function confirmReset() {
  localStorage.setItem("userScore", 0);
  localStorage.setItem("badgesSeen", JSON.stringify([]));
  closeResetModal();
  location.reload();
}

// --- Toast function ---
function showToast(message, color="#2ecc71") {
  let toast = document.getElementById("toast");
  if(!toast) {
    toast = document.createElement("div");
    toast.id = "toast";
    toast.style.position = "fixed";
    toast.style.bottom = "20px";
    toast.style.left = "50%";
    toast.style.transform = "translateX(-50%)";
    toast.style.backgroundColor = color;
    toast.style.color = "white";
    toast.style.padding = "12px 20px";
    toast.style.borderRadius = "8px";
    toast.style.fontWeight = "bold";
    toast.style.zIndex = "2000";
    toast.style.display = "none";
    document.body.appendChild(toast);
  }
  toast.textContent = message;
  toast.style.backgroundColor = color;
  toast.style.display = "block";
  toast.style.opacity = "1";
  setTimeout(() => {
    toast.style.transition = "opacity 0.5s";
    toast.style.opacity = "0";
    setTimeout(() => toast.style.display = "none", 500);
  }, 3000);
}
</script>

</body>
</html>
